[//]: # ( )
[//]: # (This file is automatically generated by the `jsarch`)
[//]: # (module. Do not change it elsewhere, changes would)
[//]: # (be overriden.)
[//]: # ( )
# Architecture Notes



## PostgreSQL service

This service is a simple wrapper around the `pg` node module
 that adds native support for transsactions and a few tweaks
 for a better plug and play experience.

Its goal is to expose only a subset of its capabilities to
 reduce the API surface to 3 use cases:
- run a single query
- run several queries in parallel
- run several queries into a single transaction

And that's it ;). The purpose is to know SQL, not an ORM, and
 have an easily mockable API surface.

PG module API Doc: https://node-postgres.com/features/pooling

[See in context](./src/pg.ts#L63-L79)



### Errors casting

This service also convert `pg` errors into `yerror` ones which taste
 better imo.

[See in context](./src/pg.ts#L247-L251)



### Timezones

Ensure not messing with time zones with practical defaults.
See https://github.com/vitaly-t/pg-promise/issues/389

// TODO: Ensure arrays are well parsed too with `postgres-array` for
// 1115 - timestamp without time zone[]
// 1182 - date[]

[See in context](./src/pg.ts#L13-L21)

